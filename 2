import { NavLink } from "react-router-dom";
import "../index.css";
import menu from "../img/hamburguer menu.png";
import Logo from "../img/nasa-logo.png";
import { useEffect, useState } from "react";

export const Header = ({ language, toggleLanguage }) => {
  const [handleMenu, setHandleMenu] = useState(false);

  useEffect(() => {
    console.log(handleMenu);
  }, [handleMenu]);

  return (
    <div className="w-screen">
      <div className="bg-black flex items-center gap-5 component-padding justify-between">
        {/* Hamburguer Menu icon */}
        {/*
         * Used to open and close the nav bar
         * Hidden when the md responsive is used.
         */}
        <img
          onClick={() => setHandleMenu(!handleMenu)}
          src={menu}
          alt="Ícone de menu"
          className="w-6 md:hidden"
        />
        {/* Nasa logo and site name */}
        <div className="flex items-center gap-5">
          <img src={Logo} alt="Logo da nasa" className="size-14" />
          {/* Hidden when the interface is small */}
          {/* when it only has a logo, it's more beautiful :) */}
          <h1 className="hidden md:block font-bold text-lg">
            NASA API Project
          </h1>
        </div>
        {/* Button to change language */}
        {/* Site is in English and can be converted to Portuguese BR */}
        <div>
          {language == "pt-br" ? (
            <button className="h-full px-4" onClick={toggleLanguage}>
              <img
                className="w-6"
                src="https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/800px-Flag_of_the_United_States.svg.png"
                alt="United State of America flag"
              />
            </button>
          ) : (
            <button className="flex items-center h-14 px-3" onClick={toggleLanguage}>
              <img
                className="w-6"
                src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Flag_of_Brazil.svg/800px-Flag_of_Brazil.svg.png"
                alt="Brazil flag"
              />
            </button>
          )}
        </div>
      </div>

      {/* Nav menu */}
      {/* Mobile interfaces */}
      {handleMenu === true ? (
        <nav className="flex flex-col gap-4 py-2 px-4 bg-black component-padding items-center">
          <NavLink
            to="/"
            className={({ isActive, isPeding }) =>
              isPeding ? "pending" : isActive ? "active" : ""
            }
          >
            Home
          </NavLink>
          <NavLink
            to="/picture-of-the-day"
            className={({ isActive, isPeding }) =>
              isPeding ? "pending" : isActive ? "active" : ""
            }
          >
            Picture Of The Day
          </NavLink>
          <NavLink
            to="/your-day-picture"
            className={({ isActive, isPeding }) =>
              isPeding ? "pending" : isActive ? "active" : ""
            }
          >
            Your Day Picture
          </NavLink>
        </nav>
      ) : (
        ""
      )}

      {/* Nav Bar */}
      {/* To the others interfaces */}
      <nav className="hidden component-padding md:justify-evenly md:flex md:gap-6 md:bg-grayDarkest ">
        <NavLink
          to="/"
          className={({ isActive, isPeding }) =>
            isPeding ? "pending" : isActive ? "active" : ""
          }
        >
          Home
        </NavLink>
        <NavLink
          to="/picture-of-the-day"
          className={({ isActive, isPeding }) =>
            isPeding ? "pending" : isActive ? "active" : ""
          }
        >
          Picture Of The Day
        </NavLink>
        <NavLink
          to="/your-day-picture"
          className={({ isActive, isPeding }) =>
            isPeding ? "pending" : isActive ? "active" : ""
          }
        >
          Your Day Picture
        </NavLink>
      </nav>
    </div>
  );
};
